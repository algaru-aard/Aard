<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Sunday, February 27, 2022, 10:40 AM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "AlgaruEpicHelper" generated by Plugin Wizard -->

<muclient>
<plugin
   name="AlgaruEpicHelper"
   author="Algaru"
   id="b08c4d2f84f48c165793269a"
   language="Lua"
   purpose="Helpers for various epics"
   date_written="2022-02-27 10:39:44"
   requires="5.07"
   version="1.0"
   >

</plugin>

<aliases>
    <alias match='titanweapons'  enabled = 'y' ignore_case = 'y' sequence = '100' send_to='10'>
        <send>241axe;261axe;241dag;261dag;get "negative201" aardbag;get thandcrist aardbag;get "shiny jagged obsidian" aardbag;
        </send>
    </alias>
    
    <alias match='ifwp'  enabled = 'y' ignore_case = 'y' sequence = '100' send_to='10'>
        <send>wear "maelstrom whip";dual "mystic staff icefallmana"
        </send>
    </alias>   
    <alias match='^titan[ ]+(?<damtype>cold|holy|negative|magic|pierce|water|reset)[ ]*$'  
        enabled = 'y' 
        ignore_case = 'y' 
        sequence = '100' 
        send_to='12'
        regexp='y'
        script="titan_change_weapon">
    </alias>
    

    <alias match='^[ ]*wfw[ ]*$'  
        enabled = 'y' 
        ignore_case = 'y' 
        sequence = '100' 
        send_to='10'
        regexp='y'
    >
        <send>mapper goto 38463; wish for wealth</send>
    </alias>
</aliases>


<triggers>
  <trigger
   enabled="y"
   match="^A powerful magical aura grows around Morgak, and some of the runes floating around him start to fly away from him!$"
   regexp="y"
   name="titan_morgak_rune"
   send_to="10"
   sequence="100"
  >
  <send>look;map</send>
  </trigger>

  <trigger
   enabled="y"
   match="^The arcane magic rips through Aion's divine aura, rendering him vulnerable!$"
   regexp="y"
   name="trans_aion_vuln"
   send_to="10"
   sequence="100"
  >
  <send>gtell Aion is now vulnerable!</send>
  </trigger> 
  
  <trigger
   enabled="y"
   match="^The pylon's energy source has been disrupted, and it is unable to fire!$"
   regexp="y"
   name="trans_pylon_disrupt"
   send_to="10"
   sequence="100"
  >
  <send>gtell Pylon is disrupted! Clear troopers from rampart corners.</send>
  </trigger> 
  
</triggers>

<script>
<![CDATA[   

    require "gmcphelper"
    
    local convenience_script_id = '3d0a536e1264c566c50247b8'
    
    function titan_change_weapon (name, line, args)
        damtype = args.damtype
        weapons = {
            cold = "1732931185",
            holy = "1618582979",
            negative = "2181818380",
            magic = "1732931135",
            pierce = "2629653856",
            water = "1618583075",
            reset = "2181818380"
        }
        spells = {
            cold = "purgatory",
            holy = "holy strike",
            negative = "heavenly balance",
            magic = "force bolt",
            pierce = "talon",
            water = "caustic rain",
            reset = "heavenly balance"
        }
        
        weapon = weapons[damtype]
        newspell = spells[damtype]
        Send("wear " .. weapon)
        
        if (GetPluginInfo(convenience_script_id, 17)) then
            CallPlugin( convenience_script_id, "set_cspell_helper", newspell) 
        else
            ColourNote("white", "", "Switch to using " , "red", "", newspell)
        end
    end
   
]]>
</script>

</muclient>
